function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{dQg9:function(t,e,r){var n;"undefined"!=typeof self&&self,n=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9)}([function(t,e,r){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=e.performance&&function(){return e.performance.now()}||function(){return Date.now()},i=e.requestAnimationFrame||function(t){return setTimeout((function(){return t(n())}),1e3/60)},o=e.cancelAnimationFrame||clearTimeout,a=function(t){for(var e=Object(t),r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((function(t){if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})),e},s=Object.assign||a,h=0,c=e.navigator&&e.navigator.userAgent||"",u=c.indexOf("MSIE ")>0||c.indexOf("Trident/")>0||c.indexOf("Edge/")>0;t.exports={_assign:a,arrLast:function(t){return t[t.length-1]},assign:s,average:function(t){return t.reduce((function(t,e){return e+t}),0)/t.length},callIfExists:function(t,e){return t&&t(e),e},cancelAnimationFrame:o,colorStringToVals:function(t){var e=t.toUpperCase().trim();if(/^#([A-F0-9]{3}){1,2}$/.test(e)){var r=e.substring(1).split("");3===r.length&&(r=[r[0],r[0],r[1],r[1],r[2],r[2]]);var n=""+r.join("");return{r:parseInt(n.slice(0,2),16),g:parseInt(n.slice(2,4),16),b:parseInt(n.slice(4,6),16),a:1}}var i=e.match(/^RGBA?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d*\.?\d+))?\)$/);if(i)return{r:parseInt(i[1],10),g:parseInt(i[2],10),b:parseInt(i[3],10),a:parseFloat(i[4]||1,10)};throw new Error("Invalid color: "+t)},copyAndMergeDeep:function t(e,n){var i=s({},e);for(var o in n){var a=e[o],h=n[o];a!==h&&(i[o]=a&&h&&"object"===(void 0===a?"undefined":r(a))&&"object"===(void 0===h?"undefined":r(h))&&!Array.isArray(h)?t(a,h):h)}return i},counter:function(){return++h},emptyFunc:function(){},inflate:function(t,e){for(var r=t.split("."),n={},i=n,o=0;o<r.length;o++){var a=o===r.length-1?e:{};i[r[o]]=a,i=a}return n},objRepeat:function(t,e){for(var r={},n=0;n<e;n++)r[n]=t;return r},performanceNow:n,requestAnimationFrame:i,timeout:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e,r){setTimeout(e,t)}))},trim:function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},isMsBrowser:u}}).call(e,r(1))},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(0),i=n.average,o=n.arrLast,a=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},s=function(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))},h=function(t,e){return s(a(t,e))},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=10*e;return{x:Math.round(r*t.x)/r,y:Math.round(r*t.y)/r}},u=function(t){var e=t[0];return t.slice(1).reduce((function(t,r){var n=h(r,e);return e=r,t+n}),0)},l=function(t,e,r){var n=a(e,t),i=r/s(n);return{x:e.x+i*n.x,y:e.y+i*n.y}},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.05,r=t.slice(0,1);return t.slice(1).forEach((function(t){var n=r[r.length-1],i=h(t,n);if(i>e)for(var o=Math.ceil(i/e),a=i/o,s=0;s<o;s++)r.push(l(t,n,-1*a*(s+1)));else r.push(t)})),r},d=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=u(t),n=r/(e-1),i=[t[0]],a=o(t),s=t.slice(1),c=0;c<e-2;c++)for(var p=o(i),d=n,f=!1;!f;){var g=h(p,s[0]);if(g<d)d-=g,p=s.shift();else{var _=l(p,s[0],d-g);i.push(_),f=!0}}return i.push(a),i},f=function(t){if(t.length<3)return t;var e=[t[0],t[1]];return t.slice(2).forEach((function(t,r){var n=e.length,i=a(t,e[n-1]),o=a(e[n-1],e[n-2]);i.y*o.x-i.x*o.y==0&&e.pop(),e.push(t)})),e};t.exports={round:c,equals:function(t,e){return t.x===e.x&&t.y===e.y},distance:h,getPathString:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=c(t[0]),n=t.slice(1),i="M "+r.x+" "+r.y;return n.forEach((function(t){var e=c(t);i+=" L "+e.x+" "+e.y})),e&&(i+="Z"),i},frechetDist:function(t,e){for(var r=[],n=0;n<t.length;n++){r.push([]);for(var i=0;i<e.length;i++)r[n].push(-1)}return function n(i,o){return r[i][o]>-1||(r[i][o]=0===i&&0===o?h(t[0],e[0]):i>0&&0===o?Math.max(n(i-1,0),h(t[i],e[0])):0===i&&o>0?Math.max(n(0,o-1),h(t[0],e[o])):i>0&&o>0?Math.max(Math.min(n(i-1,o),n(i-1,o-1),n(i,o-1)),h(t[i],e[o])):1/0),r[i][o]}(t.length-1,e.length-1)},length:u,rotate:function(t,e){return t.map((function(t){return{x:Math.cos(e)*t.x-Math.sin(e)*t.y,y:Math.sin(e)*t.x+Math.cos(e)*t.y}}))},subtract:a,extendStart:function(t,e){var r=f(t);if(r.length<2)return r;var n=l(r[1],r[0],e),i=r.slice(1);return i.unshift(n),i},cosineSimilarity:function(t,e){return(t.x*e.x+t.y*e.y)/s(t)/s(e)},outlineCurve:d,_extendPointOnLine:l,_filterParallelPoints:f,subdivideCurve:p,normalizeCurve:function(t){var e=d(t),r={x:i(e.map((function(t){return t.x}))),y:i(e.map((function(t){return t.y})))},n=e.map((function(t){return a(t,r)})),s=Math.sqrt(i([Math.pow(n[0].x,2)+Math.pow(n[0].y,2),Math.pow(o(n).x,2)+Math.pow(o(n).y,2)])),h=n.map((function(t){return{x:t.x/s,y:t.y/s}}));return p(h)}}},function(t,e,r){"use strict";(function(e){function r(t,e,r){t.setAttributeNS(null,e,r)}t.exports={createElm:function(t){return e.document.createElementNS("http://www.w3.org/2000/svg",t)},attrs:function(t,e){Object.keys(e).forEach((function(n){return r(t,n,e[n])}))},attr:r,removeElm:function(t){t&&t.parentNode.removeChild(t)},urlIdRef:function(t){var r="";return e.location&&e.location.href&&(r=e.location.href.replace(/#[^#]*$/,"")),"url("+r+"#"+t+")"}}}).call(e,r(1))},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=r(5),o=r(0).objRepeat,a=function(t,e,r){return[new i("character."+t+".strokes",o({opacity:1,displayPortion:1},e.strokes.length),{duration:r,force:!0})]},s=function(t,e,r){return[new i("character."+t+".opacity",0,{duration:r,force:!0})].concat(a(t,e,0))},h=function(t,e,r){var o=e.strokeNum,a=(e.getLength()+600)/(3*r);return[new i("character."+t,{opacity:1,strokes:n({},o,{displayPortion:0,opacity:1})}),new i("character."+t+".strokes."+o+".displayPortion",1,{duration:a})]},c=function(t,e,r,n,c){var u=s(t,e,r);return(u=u.concat(a(t,e,0))).push(new i("character."+t,{opacity:1,strokes:o({opacity:0},e.strokes.length)},{force:!0})),e.strokes.forEach((function(e,r){r>0&&u.push(new i.Delay(c)),u=u.concat(h(t,e,n))})),u};t.exports={showStrokes:a,showCharacter:function(t,e,r){return[new i("character."+t,{opacity:1,strokes:o({opacity:1,displayPortion:1},e.strokes.length)},{duration:r,force:!0})]},hideCharacter:s,highlightStroke:function(t,e,r){var o=t.strokeNum,a=(t.getLength()+600)/(3*r);return[new i("character.highlight.strokeColor",e),new i("character.highlight",{opacity:1,strokes:n({},o,{displayPortion:0,opacity:0})}),new i("character.highlight.strokes."+o,{displayPortion:1,opacity:1},{duration:a}),new i("character.highlight.strokes."+o+".opacity",0,{duration:a})]},animateCharacter:c,animateCharacterLoop:function(t,e,r,n,o,a){var s=c(t,e,r,n,o);return s.push(new i.Delay(a)),s},animateStroke:h,animateSingleStroke:function(t,e,r,n){return[new i("character."+t,(function(r){for(var n=r.character[t],i={opacity:1,strokes:{}},o=0;o<e.strokes.length;o++)i.strokes[o]={opacity:n.opacity*n.strokes[o].opacity};return i}))].concat(h(t,e.strokes[r],n))},showStroke:function(t,e,r){return[new i("character."+t+".strokes."+e,{displayPortion:1,opacity:1},{duration:r,force:!0})]},updateColor:function(t,e,r){return[new i("options."+t,e,{duration:r})]}}},function(t,e,r){"use strict";var n=r(0),i=n.inflate,o=n.performanceNow,a=n.requestAnimationFrame,s=n.cancelAnimationFrame;function h(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scope=t,this._valuesOrCallable=e,this._duration=r.duration||0,this._force=r.force,this._pausedDuration=0,this._tickBound=this._tick.bind(this),this._startPauseTime=null}function c(t){this._duration=t,this._startTime=null,this._paused=!1}h.prototype.run=function(t){var e=this;return this._values||this._inflateValues(t),0===this._duration&&t.updateState(this._values),0===this._duration||function t(e,r){for(var n in r)if(r.hasOwnProperty(n)){var i=r[n],o=e[n];if(i>=0){if(i!==o)return!1}else if(!t(o,i))return!1}return!0}(t.state,this._values)?Promise.resolve():(this._renderState=t,this._startState=t.state,this._startTime=o(),this._frameHandle=a(this._tickBound),new Promise((function(t){e._resolve=t})))},h.prototype.pause=function(){null===this._startPauseTime&&(this._frameHandle&&s(this._frameHandle),this._startPauseTime=o())},h.prototype.resume=function(){null!==this._startPauseTime&&(this._frameHandle=a(this._tickBound),this._pausedDuration+=o()-this._startPauseTime,this._startPauseTime=null)},h.prototype._tick=function(t){if(null===this._startPauseTime){var e=Math.min(1,(t-this._startTime-this._pausedDuration)/this._duration);if(1===e)this._renderState.updateState(this._values),this._frameHandle=null,this.cancel(this._renderState);else{var r=-Math.cos(e*Math.PI)/2+.5;this._renderState.updateState(function t(e,r,n){var i={};for(var o in r){var a=r[o],s=e[o];i[o]=a>=0?n*(a-s)+s:t(s,a,n)}return i}(this._startState,this._values,r)),this._frameHandle=a(this._tickBound)}}},h.prototype._inflateValues=function(t){var e=this._valuesOrCallable;"function"==typeof this._valuesOrCallable&&(e=this._valuesOrCallable(t.state)),this._values=i(this.scope,e)},h.prototype.cancel=function(t){this._resolve&&this._resolve(),this._resolve=null,this._frameHandle&&s(this._frameHandle),this._frameHandle=null,this._force&&(this._values||this._inflateValues(t),t.updateState(this._values))},c.prototype.pause=function(){if(!this._paused){var t=o()-this._startTime;this._duration=Math.max(0,this._duration-t),clearTimeout(this._timeout),this._paused=!0}},c.prototype.resume=function(){var t=this;this._paused&&(this._startTime=o(),this._timeout=setTimeout((function(){return t.cancel()}),this._duration),this._paused=!1)},c.prototype.run=function(){var t=this,e=new Promise((function(e){t._resolve=e}));return this._startTime=o(),this._timeout=setTimeout((function(){return t.cancel()}),this._duration),e},c.prototype.cancel=function(){clearTimeout(this._timeout),this._resolve&&this._resolve(),this._resolve=!1},h.Delay=c,t.exports=h},function(t,e,r){"use strict";function n(){}n.prototype._getStrokeDashoffset=function(t){return.999*this._pathLength*(1-t)},n.prototype._getColor=function(t){var e=t.radicalColor;return e&&this._stroke.isInRadical?e:t.strokeColor},t.exports=n},function(t,e,r){"use strict";(function(e){function r(){}r.prototype.addPointerStartListener=function(t){var e=this;this.node.addEventListener("mousedown",(function(r){t(e._eventify(r,e._getMousePoint))})),this.node.addEventListener("touchstart",(function(r){t(e._eventify(r,e._getTouchPoint))}))},r.prototype.addPointerMoveListener=function(t){var e=this;this.node.addEventListener("mousemove",(function(r){t(e._eventify(r,e._getMousePoint))})),this.node.addEventListener("touchmove",(function(r){t(e._eventify(r,e._getTouchPoint))}))},r.prototype.addPointerEndListener=function(t){e.document.addEventListener("mouseup",t),e.document.addEventListener("touchend",t)},r.prototype.getBoundingClientRect=function(){return this.node.getBoundingClientRect()},r.prototype._eventify=function(t,e){var r=this;return{getPoint:function(){return e.call(r,t)},preventDefault:function(){return t.preventDefault()}}},r.prototype._getMousePoint=function(t){var e=this.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},r.prototype._getTouchPoint=function(t){var e=this.getBoundingClientRect();return{x:t.touches[0].clientX-e.left,y:t.touches[0].clientY-e.top}},t.exports=r}).call(e,r(1))},function(t,e,r){"use strict";t.exports={drawPath:function(t,e){t.beginPath();var r=e[0],n=e.slice(1);t.moveTo(r.x,r.y),n.forEach((function(e){t.lineTo(e.x,e.y)})),t.stroke()},pathStringToCanvas:function(t){var e=t.split(/(^|\s+)(?=[A-Z])/).filter((function(t){return" "!==t})),r=[function(t){return t.beginPath()}];return e.forEach((function(t){var e,n=(e=t.split(/\s+/),Array.isArray(e)?e:Array.from(e)),i=n[0],o=n.slice(1).map((function(t){return parseFloat(t)}));"M"===i?r.push((function(t){return t.moveTo.apply(t,o)})):"L"===i?r.push((function(t){return t.lineTo.apply(t,o)})):"C"===i?r.push((function(t){return t.bezierCurveTo.apply(t,o)})):"Q"===i&&r.push((function(t){return t.quadraticCurveTo.apply(t,o)}))})),function(t){return r.forEach((function(e){return e(t)}))}}}},function(t,e,r){"use strict";var n=r(10),i=r(11),o=r(14),a=r(15),s=r(19),h=r(25),c=r(31),u=r(32),l=r(4),p=r(0),d=p.assign,f=p.callIfExists,g=p.trim,_=p.colorStringToVals,v={charDataLoader:c,onLoadCharDataError:null,onLoadCharDataSuccess:null,showOutline:!0,showCharacter:!0,renderer:"svg",width:null,height:null,padding:20,strokeAnimationSpeed:1,strokeFadeDuration:400,strokeHighlightDuration:200,strokeHighlightSpeed:2,delayBetweenStrokes:1e3,delayBetweenLoops:2e3,strokeColor:"#555",radicalColor:null,highlightColor:"#AAF",outlineColor:"#DDD",drawingColor:"#333",leniency:1,showHintAfterMisses:3,highlightOnComplete:!0,highlightCompleteColor:null,drawingFadeDuration:300,drawingWidth:4,strokeWidth:2,outlineWidth:2,rendererOverride:{}};function y(){if(arguments.length>0){var t=void 0,e={},r=arguments.length<=0?void 0:arguments[0];arguments.length>1&&("string"==typeof(arguments.length<=1?void 0:arguments[1])?(console.warn("Using new HanziWriter() to set a character is deprecated. Use HanziWriter.create() instead"),t=arguments.length<=1?void 0:arguments[1],e=(arguments.length<=2?void 0:arguments[2])||{}):e=arguments.length<=1?void 0:arguments[1]),this._init(r,e),t&&this.setCharacter(t)}}y.prototype.showCharacter=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._options.showCharacter=!0,this._withData((function(){return t._renderState.run(l.showCharacter("main",t._character,"number"==typeof e.duration?e.duration:t._options.strokeFadeDuration)).then((function(t){return f(e.onComplete,t)}))}))},y.prototype.hideCharacter=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._options.showCharacter=!1,this._withData((function(){return t._renderState.run(l.hideCharacter("main",t._character,"number"==typeof e.duration?e.duration:t._options.strokeFadeDuration)).then((function(t){return f(e.onComplete,t)}))}))},y.prototype.animateCharacter=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cancelQuiz(),this._withData((function(){return t._renderState.run(l.animateCharacter("main",t._character,t._options.strokeFadeDuration,t._options.strokeAnimationSpeed,t._options.delayBetweenStrokes)).then((function(t){return f(e.onComplete,t)}))}))},y.prototype.animateStroke=function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.cancelQuiz(),this._withData((function(){return e._renderState.run(l.animateSingleStroke("main",e._character,t,e._options.strokeAnimationSpeed)).then((function(t){return f(r.onComplete,t)}))}))},y.prototype.highlightStroke=function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._withData((function(){return e._renderState.run(l.highlightStroke(e._character.strokes[t],e._options.highlightColor,e._options.strokeHighlightSpeed)).then((function(t){return f(r.onComplete,t)}))}))},y.prototype.loopCharacterAnimation=function(){var t=this;return this.cancelQuiz(),this._withData((function(){return t._renderState.run(l.animateCharacterLoop("main",t._character,t._options.strokeFadeDuration,t._options.strokeAnimationSpeed,t._options.delayBetweenStrokes,t._options.delayBetweenLoops),{loop:!0})}))},y.prototype.pauseAnimation=function(){var t=this;return this._withData((function(){return t._renderState.pauseAll()}))},y.prototype.resumeAnimation=function(){var t=this;return this._withData((function(){return t._renderState.resumeAll()}))},y.prototype.showOutline=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._options.showOutline=!0,this._withData((function(){return t._renderState.run(l.showCharacter("outline",t._character,"number"==typeof e.duration?e.duration:t._options.strokeFadeDuration)).then((function(t){return f(e.onComplete,t)}))}))},y.prototype.hideOutline=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._options.showOutline=!1,this._withData((function(){return t._renderState.run(l.hideCharacter("outline",t._character,"number"==typeof e.duration?e.duration:t._options.strokeFadeDuration)).then((function(t){return f(e.onComplete,t)}))}))},y.prototype.updateColor=function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._withData((function(){var i="number"==typeof n.duration?n.duration:r._options.strokeFadeDuration,o=e;"radicalColor"!==t||e||(o=r._options.strokeColor);var a=_(o);r._options[t]=e;var s=l.updateColor(t,a,i);return"radicalColor"!==t||e||(s=s.concat(l.updateColor(t,null,0))),r._renderState.run(s).then((function(t){return f(n.onComplete,t)}))}))},y.prototype.quiz=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._withData((function(){t.cancelQuiz(),t._quiz=new a(t._character,t._renderState,t._positioner),t._quiz.startQuiz(d({},t._options,e))}))},y.prototype.cancelQuiz=function(){this._quiz&&(this._quiz.cancel(),this._quiz=null)},y.prototype.setCharacter=function(t){var e=this;return this.cancelQuiz(),this._char=t,this._hanziWriterRenderer&&this._hanziWriterRenderer.destroy(),this._renderState&&this._renderState.cancelAll(),this._hanziWriterRenderer=null,this._withDataPromise=this._loadingManager.loadCharData(t).then((function(r){if(!e._loadingManager.loadingFailed){e._character=i(t,r),e._positioner=new o(e._options);var a=new e._renderer.HanziWriterRenderer(e._character,e._positioner);e._hanziWriterRenderer=a,e._renderState=new n(e._character,e._options,(function(t){a.render(t)})),e._hanziWriterRenderer.mount(e.target,e._renderState.state),e._hanziWriterRenderer.render(e._renderState.state)}})),this._withDataPromise},y.prototype._init=function(t,e){var r="canvas"===e.renderer?h:s,n=e.rendererOverride||{};return this._renderer={HanziWriterRenderer:n.HanziWriterRenderer||r.HanziWriterRenderer,createRenderTarget:n.createRenderTarget||r.createRenderTarget},this.target=this._renderer.createRenderTarget(t,e.width,e.height),this._options=this._assignOptions(e),this._loadingManager=new u(this._options),this._setupListeners(),this._quiz=null,this},y.prototype._assignOptions=function(t){var e=d({},v,t);return t.strokeAnimationDuration&&!t.strokeAnimationSpeed&&(e.strokeAnimationSpeed=500/e.strokeAnimationDuration),t.strokeHighlightDuration&&!t.strokeHighlightSpeed&&(e.strokeHighlightSpeed=500/e.strokeHighlightDuration),t.highlightCompleteColor||(e.highlightCompleteColor=e.highlightColor),this._fillWidthAndHeight(e)},y.prototype._fillWidthAndHeight=function(t){var e=d({},t);if(e.width&&!e.height)e.height=e.width;else if(e.height&&!e.width)e.width=e.height;else if(!e.width&&!e.height){var r=this.target.getBoundingClientRect(),n=Math.min(r.width,r.height);e.width=n,e.height=n}return e},y.prototype._withData=function(t){var e=this;if(this._loadingManager.loadingFailed)throw Error("Failed to load character data. Call setCharacter and try again.");return this._withDataPromise.then((function(){if(!e._loadingManager.loadingFailed)return t()}))},y.prototype._setupListeners=function(){var t=this;this.target.addPointerStartListener((function(e){!t.isLoadingCharData&&t._quiz&&(e.preventDefault(),t._forwardToQuiz("startUserStroke",e.getPoint()))})),this.target.addPointerMoveListener((function(e){!t.isLoadingCharData&&t._quiz&&(e.preventDefault(),t._forwardToQuiz("continueUserStroke",e.getPoint()))})),this.target.addPointerEndListener((function(){return t._forwardToQuiz("endUserStroke")}))},y.prototype._forwardToQuiz=function(t){var e;if(this._quiz){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(e=this._quiz)[t].apply(e,n)}},y.create=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new y(t,r);return n.setCharacter(e),n};var m=null,k=null;y.loadCharacterData=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0;return r=m&&k===e?m:new u(d({},v,e)),m=r,k=e,r.loadCharData(t)},y.getScalingTransform=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new o({width:t,height:e,padding:r});return{x:n.xOffset,y:n.yOffset,scale:n.scale,transform:g("\n      translate("+n.xOffset+", "+(n.height-n.yOffset)+")\n      scale("+n.scale+", "+-1*n.scale+")\n    ").replace(/\s+/g," ")}},t.exports=y},function(t,e,r){"use strict";var n=r(0),i=n.copyAndMergeDeep,o=n.colorStringToVals;function a(t,e,r){this._onStateChange=r,this._mutationChains=[],this.state={options:{drawingFadeDuration:e.drawingFadeDuration,drawingWidth:e.drawingWidth,drawingColor:o(e.drawingColor),strokeColor:o(e.strokeColor),outlineColor:o(e.outlineColor),radicalColor:o(e.radicalColor||e.strokeColor),highlightColor:o(e.highlightColor)},character:{main:{opacity:e.showCharacter?1:0,strokes:{}},outline:{opacity:e.showOutline?1:0,strokes:{}},highlight:{opacity:1,strokes:{}}},userStrokes:null};for(var n=0;n<t.strokes.length;n++)this.state.character.main.strokes[n]={opacity:1,displayPortion:1},this.state.character.outline.strokes[n]={opacity:1,displayPortion:1},this.state.character.highlight.strokes[n]={opacity:0,displayPortion:1}}a.prototype.updateState=function(t){var e=i(this.state,t);this._onStateChange(e,this.state),this.state=e},a.prototype.run=function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.map((function(t){return t.scope})).filter((function(t){return t}));return this.cancelMutations(n),new Promise((function(i){var o={_isActive:!0,_index:0,_resolve:i,_mutations:t,_loop:r.loop,_scopes:n};e._mutationChains.push(o),e._run(o)}))},a.prototype._run=function(t){var e=this;if(t._isActive){if(t._index>=t._mutations.length){if(!t._loop)return t._isActive=!1,this._mutationChains=this._mutationChains.filter((function(e){return e!==t})),void t._resolve({canceled:!1});t._index=0}t._mutations[t._index].run(this).then((function(){t._isActive&&(t._index++,e._run(t))}))}},a.prototype._getActiveMutations=function(){return this._mutationChains.map((function(t){return t._mutations[t._index]}))},a.prototype.pauseAll=function(){this._getActiveMutations().forEach((function(t){return t.pause()}))},a.prototype.resumeAll=function(){this._getActiveMutations().forEach((function(t){return t.resume()}))},a.prototype.cancelMutations=function(t){var e=this;this._mutationChains.forEach((function(r){r._scopes.forEach((function(n){t.forEach((function(t){(n.indexOf(t)>=0||t.indexOf(n)>=0)&&e._cancelMutationChain(r)}))}))}))},a.prototype.cancelAll=function(){this.cancelMutations([""])},a.prototype._cancelMutationChain=function(t){t._isActive=!1;for(var e=t._index;e<t._mutations.length;e++)t._mutations[e].cancel(this);t._resolve&&t._resolve({canceled:!0}),this._mutationChains=this._mutationChains.filter((function(e){return e!==t}))},t.exports=a},function(t,e,r){"use strict";var n=r(12),i=r(13);t.exports=function(t,e){var r=function(t){return t.strokes.map((function(e,r){var i=t.medians[r].map((function(t){var e=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),2!==r.length);n=!0);}catch(h){i=!0,o=h}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t);return{x:e[0],y:e[1]}}));return new n(e,i,r,t.radStrokes&&t.radStrokes.indexOf(r)>=0)}))}(e);return new i(t,r)}},function(t,e,r){"use strict";var n=r(2),i=n.subtract,o=n.distance,a=n.length;function s(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.path=t,this.points=e,this.strokeNum=r,this.isInRadical=n}s.prototype.getStartingPoint=function(){return this.points[0]},s.prototype.getEndingPoint=function(){return this.points[this.points.length-1]},s.prototype.getLength=function(){return a(this.points)},s.prototype.getVectors=function(){var t=this.points[0];return this.points.slice(1).map((function(e){var r=i(e,t);return t=e,r}))},s.prototype.getDistance=function(t){var e=this.points.map((function(e){return o(e,t)}));return Math.min.apply(Math,e)},s.prototype.getAverageDistance=function(t){var e=this;return t.reduce((function(t,r){return t+e.getDistance(r)}),0)/t.length},t.exports=s},function(t,e,r){"use strict";t.exports=function(t,e){this.symbol=t,this.strokes=e}},function(t,e,r){"use strict";var n=[{x:0,y:-124},{x:1024,y:900}];function i(t){this._options=t,this.width=t.width,this.height=t.height,this._calculateScaleAndOffset()}i.prototype.convertExternalPoint=function(t){return{x:(t.x-this.xOffset)/this.scale,y:(this.height-this.yOffset-t.y)/this.scale}},i.prototype._calculateScaleAndOffset=function(){var t=n,e=t[1].x-t[0].x,r=t[1].y-t[0].y,i=this.width-2*this._options.padding,o=this.height-2*this._options.padding;this.scale=Math.min(i/e,o/r);var a=this._options.padding+(o-this.scale*r)/2;this.xOffset=-1*t[0].x*this.scale+(this._options.padding+(i-this.scale*e)/2),this.yOffset=-1*t[0].y*this.scale+a},t.exports=i},function(t,e,r){"use strict";var n=r(16),i=r(17),o=r(0),a=o.callIfExists,s=o.counter,h=r(18),c=r(2),u=r(4),l=function(t){return{pathString:c.getPathString(t.externalPoints),points:t.points.map((function(t){return c.round(t)}))}};function p(t,e,r){this._character=t,this._renderState=e,this._isActive=!1,this._positioner=r}p.prototype.startQuiz=function(t){this._isActive=!0,this._options=t,this._currentStrokeIndex=0,this._numRecentMistakes=0,this._totalMistakes=0,this._drawnStrokes=[],this._renderState.run(h.startQuiz(this._character,t.strokeFadeDuration))},p.prototype.startUserStroke=function(t){var e=this._positioner.convertExternalPoint(t);if(!this._isActive)return null;if(this._userStroke)return this.endUserStroke();var r=s();this._userStroke=new i(r,e,t),this._renderState.run(h.startUserStroke(r,e))},p.prototype.continueUserStroke=function(t){if(this._userStroke){var e=this._positioner.convertExternalPoint(t);this._userStroke.appendPoint(e,t);var r=this._userStroke.points.slice(0);this._renderState.run(h.updateUserStroke(this._userStroke.id,r))}},p.prototype.endUserStroke=function(){if(this._userStroke)if(this._renderState.run(h.removeUserStroke(this._userStroke.id,this._options.drawingFadeDuration)),1!==this._userStroke.points.length){var t=this._getCurrentStroke();n(this._userStroke,this._character,this._currentStrokeIndex,{isOutlineVisible:this._renderState.state.character.outline.opacity>0,leniency:this._options.leniency})?this._handleSuccess(t):(this._handleFailure(),this._numRecentMistakes>=this._options.showHintAfterMisses&&this._renderState.run(h.highlightStroke(t,this._options.highlightColor,this._options.strokeHighlightSpeed))),this._userStroke=null}else this._userStroke=null},p.prototype.cancel=function(){this._isActive=!1,this._userStroke&&this._renderState.run(h.removeUserStroke(this._userStroke.id,this._options.drawingFadeDuration))},p.prototype._handleSuccess=function(t){a(this._options.onCorrectStroke,{character:this._character.symbol,strokeNum:this._currentStrokeIndex,mistakesOnStroke:this._numRecentMistakes,totalMistakes:this._totalMistakes,strokesRemaining:this._character.strokes.length-this._currentStrokeIndex-1,drawnPath:l(this._userStroke)});var e=u.showStroke("main",this._currentStrokeIndex,this._options.strokeFadeDuration);this._currentStrokeIndex+=1,this._numRecentMistakes=0,this._currentStrokeIndex===this._character.strokes.length&&(this._isActive=!1,a(this._options.onComplete,{character:this._character.symbol,totalMistakes:this._totalMistakes}),this._options.highlightOnComplete&&(e=e.concat(h.highlightCompleteChar(this._character,this._options.highlightCompleteColor,2*this._options.strokeHighlightDuration)))),this._renderState.run(e)},p.prototype._handleFailure=function(){this._numRecentMistakes+=1,this._totalMistakes+=1,a(this._options.onMistake,{character:this._character.symbol,strokeNum:this._currentStrokeIndex,mistakesOnStroke:this._numRecentMistakes,totalMistakes:this._totalMistakes,strokesRemaining:this._character.strokes.length-this._currentStrokeIndex,drawnPath:l(this._userStroke)})},p.prototype._getCurrentStroke=function(){return this._character.strokes[this._currentStrokeIndex]},t.exports=p},function(t,e,r){"use strict";var n=r(0),i=n.average,o=n.assign,a=r(2),s=a.cosineSimilarity,h=a.equals,c=a.frechetDist,u=a.distance,l=a.subtract,p=a.normalizeCurve,d=a.rotate,f=a.length,g=function(t){if(t.length<2)return t;var e=[t[0]];return t.slice(1).forEach((function(t){h(t,e[e.length-1])||e.push(t)})),e},_=[Math.PI/16,Math.PI/32,0,-1*Math.PI/32,-1*Math.PI/16],v=function(t,e,r){var n=r.leniency,o=void 0===n?1:n,a=r.isOutlineVisible,h=void 0!==a&&a,g=e.getAverageDistance(t),v=g<=350*(h||e.strokeNum>0?.5:1)*o;if(!v)return{isMatch:!1,avgDist:g};var y=function(t,e,r){var n=u(e.getStartingPoint(),t[0]),i=u(e.getEndingPoint(),t[t.length-1]);return n<=250*r&&i<=250*r}(t,e,o),m=function(t,e){var r=function(t){var e=[],r=t[0];return t.slice(1).forEach((function(t){e.push(l(t,r)),r=t})),e}(t),n=e.getVectors(),o=r.map((function(t){var e=n.map((function(e){return s(e,t)}));return Math.max.apply(Math,e)}));return i(o)>0}(t,e),k=function(t,e,r){var n=p(t),i=p(e),o=1/0;return _.forEach((function(t){var e=c(n,d(i,t));e<o&&(o=e)})),o<=.4*r}(t,e.points,o),C=function(t,e,r){return r*(f(t)+25)/(e.getLength()+25)>=.35}(t,e,o);return{isMatch:v&&y&&m&&k&&C,avgDist:g}};t.exports=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=g(t.points);if(i.length<2)return null;var a=v(i,e.strokes[r],n);if(!a.isMatch)return!1;for(var s=e.strokes.slice(r+1),h=a.avgDist,c=0;c<s.length;c++){var u=v(i,s[c],n);u.isMatch&&u.avgDist<h&&(h=u.avgDist)}if(h<a.avgDist){var l=.6*(h+a.avgDist)/(2*a.avgDist),p=(n.leniency||1)*l,d=o({},n,{leniency:p}),f=v(i,e.strokes[r],d);return f.isMatch}return!0}},function(t,e,r){"use strict";function n(t,e,r){this.id=t,this.points=[e],this.externalPoints=[r]}n.prototype.appendPoint=function(t,e){this.points.push(t),this.externalPoints.push(e)},t.exports=n},function(t,e,r){"use strict";var n=r(5),i=r(4),o=r(0).objRepeat;t.exports={highlightCompleteChar:function(t,e,r){return[new n("character.highlight.strokeColor",e)].concat(i.hideCharacter("highlight",t)).concat(i.showCharacter("highlight",t,r/2)).concat(i.hideCharacter("highlight",t,r/2))},highlightStroke:i.highlightStroke,startQuiz:function(t,e){return i.hideCharacter("main",t,e).concat([new n("character.highlight",{opacity:1,strokes:o({opacity:0},t.strokes.length)},{force:!0}),new n("character.main",{opacity:1,strokes:o({opacity:0},t.strokes.length)},{force:!0})])},startUserStroke:function(t,e){return[new n("quiz.activeUserStrokeId",t,{force:!0}),new n("userStrokes."+t,{points:[e],opacity:1},{force:!0})]},updateUserStroke:function(t,e){return[new n("userStrokes."+t+".points",e,{force:!0})]},removeUserStroke:function(t,e){return[new n("userStrokes."+t+".opacity",0,{duration:e}),new n("userStrokes."+t,null,{force:!0})]}}},function(t,e,r){"use strict";var n=r(20),i=r(24);t.exports={HanziWriterRenderer:n,createRenderTarget:i.init}},function(t,e,r){"use strict";var n=r(21),i=r(23),o=r(0).assign,a=r(3);function s(t,e){this._character=t,this._positioner=e,this._mainCharRenderer=new n(t),this._outlineCharRenderer=new n(t),this._highlightCharRenderer=new n(t),this._userStrokeRenderers={}}s.prototype.mount=function(t){var e=t.createSubRenderTarget();a.attr(e.svg,"transform","\n    translate("+this._positioner.xOffset+", "+(this._positioner.height-this._positioner.yOffset)+")\n    scale("+this._positioner.scale+", "+-1*this._positioner.scale+")\n  "),this._outlineCharRenderer.mount(e),this._mainCharRenderer.mount(e),this._highlightCharRenderer.mount(e),this._positionedTarget=e},s.prototype.render=function(t){var e=this;this._outlineCharRenderer.render({opacity:t.character.outline.opacity,strokes:t.character.outline.strokes,strokeColor:t.options.outlineColor}),this._mainCharRenderer.render({opacity:t.character.main.opacity,strokes:t.character.main.strokes,strokeColor:t.options.strokeColor,radicalColor:t.options.radicalColor}),this._highlightCharRenderer.render({opacity:t.character.highlight.opacity,strokes:t.character.highlight.strokes,strokeColor:t.options.highlightColor});var r=t.userStrokes||{};Object.keys(this._userStrokeRenderers).forEach((function(t){r[t]||(e._userStrokeRenderers[t].destroy(),delete e._userStrokeRenderers[t])})),Object.keys(r).forEach((function(n){if(r[n]){var a=o({strokeWidth:t.options.drawingWidth,strokeColor:t.options.drawingColor},r[n]),s=e._userStrokeRenderers[n];s||((s=new i).mount(e._positionedTarget,a),e._userStrokeRenderers[n]=s),s.render(a)}}))},s.prototype.destroy=function(){a.removeElm(this._positionedTarget.svg),this._positionedTarget.defs.innerHTML=""},t.exports=s},function(t,e,r){"use strict";var n=r(0).isMsBrowser,i=r(22);function o(t){this._oldProps={},this._strokeRenderers=t.strokes.map((function(t){return new i(t)}))}o.prototype.mount=function(t){var e=t.createSubRenderTarget();this._group=e.svg,this._strokeRenderers.forEach((function(t,r){t.mount(e)}))},o.prototype.render=function(t){if(t!==this._oldProps){t.opacity!==this._oldProps.opacity&&(this._group.style.opacity=t.opacity,n||(0===t.opacity?this._group.style.display="none":0===this._oldProps.opacity&&this._group.style.removeProperty("display")));var e=!this._oldProps||t.strokeColor!==this._oldProps.strokeColor||t.radicalColor!==this._oldProps.radicalColor;if(e||t.strokes!==this._oldProps.strokes)for(var r=0;r<this._strokeRenderers.length;r++)!e&&this._oldProps.strokes&&t.strokes[r]===this._oldProps.strokes[r]||this._strokeRenderers[r].render({strokeColor:t.strokeColor,radicalColor:t.radicalColor,opacity:t.strokes[r].opacity,displayPortion:t.strokes[r].displayPortion});this._oldProps=t}},t.exports=o},function(t,e,r){"use strict";var n=r(0).counter,i=r(3),o=r(2),a=o.extendStart,s=o.getPathString,h=r(6);function c(t){this._oldProps={},this._stroke=t,this._pathLength=t.getLength()+100}(c.prototype=Object.create(h.prototype)).mount=function(t){this._animationPath=i.createElm("path"),this._clip=i.createElm("clipPath"),this._strokePath=i.createElm("path");var e="mask-"+n();i.attr(this._clip,"id",e),i.attr(this._strokePath,"d",this._stroke.path),this._animationPath.style.opacity=0,i.attr(this._animationPath,"clip-path",i.urlIdRef(e));var r=a(this._stroke.points,100);return i.attr(this._animationPath,"d",s(r)),i.attrs(this._animationPath,{stroke:"#FFFFFF","stroke-width":200,fill:"none","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":this._pathLength+","+this._pathLength}),this._clip.appendChild(this._strokePath),t.defs.appendChild(this._clip),t.svg.appendChild(this._animationPath),this},c.prototype.render=function(t){if(t!==this._oldProps){t.displayPortion!==this._oldProps.displayPortion&&(this._animationPath.style.strokeDashoffset=this._getStrokeDashoffset(t.displayPortion));var e=this._getColor(t);e!==this._getColor(this._oldProps)&&i.attrs(this._animationPath,{stroke:"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"}),t.opacity!==this._oldProps.opacity&&(this._animationPath.style.opacity=t.opacity),this._oldProps=t}},t.exports=c},function(t,e,r){"use strict";var n=r(3),i=r(2).getPathString;function o(){this._oldProps={}}o.prototype.mount=function(t){this._path=n.createElm("path"),t.svg.appendChild(this._path)},o.prototype.render=function(t){if(t!==this._oldProps){if(t.strokeColor!==this._oldProps.strokeColor||t.strokeWidth!==this._oldProps.strokeWidth){var e=t.strokeColor;n.attrs(this._path,{fill:"none",stroke:"rgba("+e.r+","+e.g+","+e.b+","+e.a+")","stroke-width":t.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round"})}t.opacity!==this._oldProps.opacity&&n.attr(this._path,"opacity",t.opacity),t.points!==this._oldProps.points&&n.attr(this._path,"d",i(t.points)),this._oldProps=t}},o.prototype.destroy=function(){n.removeElm(this._path)},t.exports=o},function(t,e,r){"use strict";(function(e){var n=r(3),i=n.createElm,o=n.attrs,a=r(7);function s(t,e){this.svg=t,this.defs=e,this.node=t,this.node.createSVGPoint&&(this._pt=this.node.createSVGPoint())}(s.prototype=Object.create(a.prototype)).createSubRenderTarget=function(){var t=i("g");return this.svg.appendChild(t),new s(t,this.defs)},s.prototype._getMousePoint=function(t){if(this._pt){this._pt.x=t.clientX,this._pt.y=t.clientY;var e=this._pt.matrixTransform(this.node.getScreenCTM().inverse());return{x:e.x,y:e.y}}return a.prototype._getMousePoint.call(this,t)},s.prototype._getTouchPoint=function(t){if(this._pt){this._pt.x=t.touches[0].clientX,this._pt.y=t.touches[0].clientY;var e=this._pt.matrixTransform(this.node.getScreenCTM().inverse());return{x:e.x,y:e.y}}return a.prototype._getTouchPoint.call(this,t)},s.init=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100%",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",a=void 0,h=t;if("string"==typeof t&&(h=e.document.getElementById(t)),!h)throw new Error("HanziWriter target element not found: "+t);var c=h.nodeName.toUpperCase();"SVG"===c||"G"===c?a=h:(a=i("svg"),h.appendChild(a)),o(a,{width:r,height:n});var u=i("defs");return a.appendChild(u),new s(a,u)},t.exports=s}).call(e,r(1))},function(t,e,r){"use strict";var n=r(26),i=r(30);t.exports={HanziWriterRenderer:n,createRenderTarget:i.init}},function(t,e,r){"use strict";var n=r(27),i=r(29),o=r(0).assign;function a(t,e){this._character=t,this._positioner=e,this._mainCharRenderer=new n(t),this._outlineCharRenderer=new n(t),this._highlightCharRenderer=new n(t)}a.prototype.mount=function(t){this._target=t},a.prototype._animationFrame=function(t){var e=this._target.getContext();e.clearRect(0,0,this._positioner.width,this._positioner.height),e.save(),e.translate(this._positioner.xOffset,this._positioner.height-this._positioner.yOffset),e.transform(1,0,0,-1,0,0),e.scale(this._positioner.scale,this._positioner.scale),t(e),e.restore(),e.draw&&e.draw()},a.prototype.render=function(t){var e=this;this._animationFrame((function(r){e._outlineCharRenderer.render(r,{opacity:t.character.outline.opacity,strokes:t.character.outline.strokes,strokeColor:t.options.outlineColor}),e._mainCharRenderer.render(r,{opacity:t.character.main.opacity,strokes:t.character.main.strokes,strokeColor:t.options.strokeColor,radicalColor:t.options.radicalColor}),e._highlightCharRenderer.render(r,{opacity:t.character.highlight.opacity,strokes:t.character.highlight.strokes,strokeColor:t.options.highlightColor});var n=t.userStrokes||{};Object.keys(n).forEach((function(e){if(n[e]){var a=o({strokeWidth:t.options.drawingWidth,strokeColor:t.options.drawingColor},n[e]);i(r,a)}}))}))},a.prototype.destroy=function(){},t.exports=a},function(t,e,r){"use strict";var n=r(28);function i(t){this._strokeRenderers=t.strokes.map((function(t){return new n(t)}))}i.prototype.render=function(t,e){if(!(e.opacity<.05))for(var r=0;r<this._strokeRenderers.length;r++)this._strokeRenderers[r].render(t,{strokeColor:e.strokeColor,radicalColor:e.radicalColor,opacity:e.strokes[r].opacity*e.opacity,displayPortion:e.strokes[r].displayPortion})},t.exports=i},function(t,e,r){"use strict";(function(e){var n=r(2).extendStart,i=r(8),o=i.drawPath,a=i.pathStringToCanvas,s=r(6);function h(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._stroke=t,this._pathLength=t.getLength()+100,r&&e.Path2D?this._path2D=new e.Path2D(this._stroke.path):this._pathCmd=a(this._stroke.path),this._extendedMaskPoints=n(this._stroke.points,100)}(h.prototype=Object.create(s.prototype)).render=function(t,e){if(!(e.opacity<.05)){t.save(),this._path2D?t.clip(this._path2D):(this._pathCmd(t),t.globalAlpha=0,t.stroke(),t.clip());var r=this._getColor(e),n=r.r,i=r.g,a=r.b,s=r.a,h=1===s?"rgb("+n+","+i+","+a+")":"rgb("+n+","+i+","+a+","+s+")",c=this._getStrokeDashoffset(e.displayPortion);t.globalAlpha=e.opacity,t.strokeStyle=h,t.fillStyle=h,t.lineWidth=200,t.lineCap="round",t.lineJoin="round",t.setLineDash([this._pathLength,this._pathLength],c),t.lineDashOffset=c,o(t,this._extendedMaskPoints),t.restore()}},t.exports=h}).call(e,r(1))},function(t,e,r){"use strict";var n=r(8).drawPath;t.exports=function(t,e){if(!(e.opacity<.05)){var r=e.strokeColor,i=r.r,o=r.g,a=r.b,s=r.a;t.save(),t.globalAlpha=e.opacity,t.lineWidth=e.strokeWidth,t.strokeStyle="rgba("+i+","+o+","+a+","+s+")",t.lineCap="round",t.lineJoin="round",n(t,e.points),t.restore()}}},function(t,e,r){"use strict";(function(e){var n=r(7);function i(t){this.node=t}(i.prototype=Object.create(n.prototype)).getContext=function(){return this.node.getContext("2d")},i.init=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100%",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",o=void 0,a=t;if("string"==typeof t&&(a=e.document.getElementById(t)),!a)throw new Error("HanziWriter target element not found: "+t);var s=a.nodeName.toUpperCase();return"CANVAS"===s?o=a:(o=e.document.createElement("canvas"),a.appendChild(o)),o.setAttribute("width",r),o.setAttribute("height",n),new i(o)},t.exports=i}).call(e,r(1))},function(t,e,r){"use strict";(function(e){t.exports=function(t,r,n){var i=new e.XMLHttpRequest;i.overrideMimeType&&i.overrideMimeType("application/json"),i.open("GET","https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/"+t+".json",!0),i.onerror=function(t){n(i,t)},i.onreadystatechange=function(){4===i.readyState&&(200===i.status?r(JSON.parse(i.responseText)):0!==i.status&&n&&n(i))},i.send(null)}}).call(e,r(1))},function(t,e,r){"use strict";var n=r(0).callIfExists;function i(t){this._loadCounter=0,this._options=t,this._isLoading=!1,this.loadingFailed=!1}i.prototype._debouncedLoad=function(t,e){var r=this,n=function(t){e===r._loadCounter&&r._resolve(t)},i=this._options.charDataLoader(t,n,(function(t){e===r._loadCounter&&r._reject(t)}));i&&n(i)},i.prototype._setupLoadingPromise=function(){var t=this;return new Promise((function(e,r){t._resolve=e,t._reject=r})).then((function(e){return t._isLoading=!1,n(t._options.onLoadCharDataSuccess,e),e}),(function(e){if(t._isLoading=!1,t.loadingFailed=!0,n(t._options.onLoadCharDataError,e),!t._options.onLoadCharDataError){if(e instanceof Error)throw e;var r=new Error("Failed to load char data for "+t._loadingChar);throw r.reason=e,r}}))},i.prototype.loadCharData=function(t){this._loadingChar=t;var e=this._setupLoadingPromise();return this.loadingFailed=!1,this._isLoading=!0,this._loadCounter++,this._debouncedLoad(t,this._loadCounter),e},t.exports=i}])},t.exports=n()},mmVb:function(t,e,r){"use strict";r.r(e),r.d(e,"InputHanziPageModule",(function(){return w}));var n=r("ofXK"),i=r("3Pt+"),o=r("tyNb"),a=r("TEn/"),s=r("mrSG"),h=r("V7IR"),c=r("l/Ya"),u=function(t){return t[t.None=0]="None",t[t.MiaoHong=1]="MiaoHong",t[t.BiShun=2]="BiShun",t[t.MoXie=3]="MoXie",t}({}),l=r("fXoL"),p=["chartarget"];function d(t,e){if(1&t&&(l.Mb(0,"ion-select-option",16),l.hc(1),l.Lb()),2&t){var r=e.$implicit,n=l.Wb();l.Zb("value",r.id),l.zb(1),l.ic(n.getStatusLabel(r.id))}}var f,g,_,v,y=r("dQg9"),m=((_=function(){function t(e,r,n,i){_classCallCheck(this,t),this.cacheService=e,this.navParams=r,this.modalCtrl=n,this.platform=i,this.UIL=c.a,this.curIndex=0,this.delayBetweenAnimations=1e3,this.curStatus=u.MiaoHong,this.hanziStatuses=[{id:u.BiShun},{id:u.MiaoHong},{id:u.MoXie}]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.platform.width()>this.platform.height()?this.platform.height():this.platform.width();this.maxWidth=.8*t;var e=this.navParams.get("word");this.chars=e.split(""),this.chars=this.chars.filter((function(t){return/[\u4e00-\u9fa5]/.test(t)})),this.chars.length>0&&(this.curIndex=0)}},{key:"ngAfterViewInit",value:function(){console.log("in ngAfterViewInit"),this.writer=y.create(this.myDiv.nativeElement,this.chars[this.curIndex],{width:this.maxWidth,height:this.maxWidth,padding:5,showCharacter:!1,showOutline:!1}),this.miaoHong()}},{key:"onChangeChar",value:function(t){console.log("in onChangeChar() "+t),this.curIndex+=t,this.runChar()}},{key:"onStatusChange",value:function(t){console.log("in onStatusChange() "),this.curStatus=+t,this.runChar()}},{key:"inMoXie",value:function(){return this.curStatus===u.MoXie}},{key:"runChar",value:function(){var t=this,e=this.chars[this.curIndex];switch(console.log("in runChar() "+e),this.writer.setCharacter(e),this.curStatus){case u.MiaoHong:this.miaoHong();break;case u.BiShun:setTimeout((function(){t.biShun()}),this.delayBetweenAnimations);break;case u.MoXie:this.moXie()}}},{key:"biShun",value:function(){console.log("in biShun() "),this.writer.hideCharacter(),this.writer.showOutline(),this.writer.animateCharacter()}},{key:"miaoHong",value:function(){console.log("in miaoHong() "),this.writer.hideCharacter(),this.writer.showOutline(),this.writer.quiz({leniency:this.cacheService.settings.miaohongLeniency,onComplete:this.quizNext.bind(this)})}},{key:"moXie",value:function(){console.log("in moXie() "),this.writer.hideCharacter(),this.writer.hideOutline(),this.writer.quiz({leniency:this.cacheService.settings.moxieLeniency,onComplete:this.quizNext.bind(this)})}},{key:"quizNext",value:function(t){var e=this;console.log("You did it! You finished drawing "+t.character),console.log("You made "+t.totalMistakes+" total mistakes on this quiz"),setTimeout((function(){console.log("after 2s"),e.runNextChar()}),this.delayBetweenAnimations)}},{key:"runNextChar",value:function(){this.curIndex>=this.chars.length-1?this.curIndex=0:this.curIndex++,this.runChar()}},{key:"runLastChar",value:function(){0===this.curIndex?this.curIndex=this.chars.length-1:this.curIndex--,this.runChar()}},{key:"goBack",value:function(){this.modalCtrl.dismiss()}},{key:"getStatusLabel",value:function(t){switch(t){case u.BiShun:return this.cacheService.getUiLabel(c.a.Order);case u.MiaoHong:return this.cacheService.getUiLabel(c.a.Outline);case u.MoXie:return this.cacheService.getUiLabel(c.a.Write)}}}]),t}()).\u0275fac=function(t){return new(t||_)(l.Jb(h.a),l.Jb(a.H),l.Jb(a.G),l.Jb(a.I))},_.\u0275cmp=l.Db({type:_,selectors:[["app-hanzi-popup"]],viewQuery:function(t,e){var r;1&t&&l.kc(p,!0),2&t&&l.bc(r=l.Vb())&&(e.myDiv=r.first)},decls:24,vars:4,consts:[[1,"ion-align-items-center"],["size","large",3,"click"],["name","chevron-back-outline"],["interface","action-sheet",3,"ngModel","cancelText","ionChange"],["stsel",""],[3,"value",4,"ngFor","ngForOf"],["padding",""],[1,"container"],[1,"container2"],["id","chartarget"],["chartarget",""],["slot","start"],[3,"click"],["name","arrow-undo-outline"],["slot","end"],["name","arrow-redo-outline"],[3,"value"]],template:function(t,e){if(1&t){var r=l.Nb();l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-row",0),l.Mb(3,"ion-col"),l.Mb(4,"ion-buttons"),l.Mb(5,"ion-button",1),l.Ub("click",(function(){return e.goBack()})),l.Kb(6,"ion-icon",2),l.hc(7),l.Lb(),l.Lb(),l.Lb(),l.Mb(8,"ion-col"),l.Mb(9,"ion-select",3,4),l.Ub("ionChange",(function(){l.dc(r);var t=l.cc(10);return e.onStatusChange(t.value)})),l.gc(11,d,2,2,"ion-select-option",5),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(12,"ion-content",6),l.Mb(13,"div",7),l.Mb(14,"div",8),l.Kb(15,"div",9,10),l.Mb(17,"ion-toolbar"),l.Mb(18,"ion-buttons",11),l.Mb(19,"ion-button",12),l.Ub("click",(function(){return e.runLastChar()})),l.Kb(20,"ion-icon",13),l.Lb(),l.Lb(),l.Mb(21,"ion-buttons",14),l.Mb(22,"ion-button",12),l.Ub("click",(function(){return e.runNextChar()})),l.Kb(23,"ion-icon",15),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()}2&t&&(l.zb(7),l.jc(" ",e.cacheService.getUiLabel(e.UIL.Back)," "),l.zb(2),l.Zb("ngModel",e.curStatus)("cancelText",e.cacheService.getUiLabel(e.UIL.Cancel)),l.zb(2),l.Zb("ngForOf",e.hanziStatuses))},directives:[a.p,a.D,a.y,a.m,a.f,a.e,a.q,a.z,a.K,i.c,i.f,n.h,a.n,a.A],styles:[".container[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%], .container2[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.container2[_ngcontent-%COMP%]{flex-direction:column}#chartarget[_ngcontent-%COMP%]{display:inline-block;outline-color:#858484;outline-style:solid;outline-width:1px;outline-offset:-1px}"]}),_),k=((g=function(){function t(e,r){_classCallCheck(this,t),this.modalController=e,this.cacheService=r,this.UIL=c.a,this.zis=""}return _createClass(t,[{key:"onClick",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==this.zis){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.modalController.create({component:m,componentProps:{word:this.zis}});case 4:return e=t.sent,t.next=7,e.present();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(t){return new(t||g)(l.Jb(a.G),l.Jb(h.a))},g.\u0275cmp=l.Db({type:g,selectors:[["app-input-hanzi"]],decls:20,vars:5,consts:[["slot","start"],["padding",""],["hanziForm","ngForm"],["name","hanzi","clearInput","","autofocus","","required","","pattern","[\\u4e00-\\u9fa5]+",3,"placeholder","ngModel","ngModelChange"],["hanzi","ngModel"],[1,"container-with-centered-content",2,"background-color","red",3,"hidden"],["expand","full",3,"disabled","click"]],template:function(t,e){if(1&t&&(l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-buttons",0),l.Kb(3,"ion-back-button"),l.Lb(),l.Lb(),l.Lb(),l.Mb(4,"ion-content",1),l.Kb(5,"br"),l.Kb(6,"br"),l.Mb(7,"form",null,2),l.Mb(9,"ion-item"),l.Mb(10,"ion-input",3,4),l.Ub("ngModelChange",(function(t){return e.zis=t})),l.Lb(),l.Lb(),l.Kb(12,"br"),l.Kb(13,"br"),l.Mb(14,"div",5),l.hc(15),l.Lb(),l.Lb(),l.Kb(16,"br"),l.Kb(17,"br"),l.Mb(18,"ion-button",6),l.Ub("click",(function(){return e.onClick()})),l.hc(19,"OK"),l.Lb(),l.Lb()),2&t){var r=l.cc(8),n=l.cc(11);l.zb(10),l.Zb("placeholder",e.cacheService.getUiLabel(e.UIL.InputAnyChinese))("ngModel",e.zis),l.zb(4),l.Zb("hidden",n.valid||n.pristine),l.zb(1),l.jc(" ",e.cacheService.getUiLabel(e.UIL.OnlyChinese)," "),l.zb(3),l.Zb("disabled",!r.form.valid)}},directives:[a.p,a.D,a.f,a.c,a.d,a.n,i.i,i.d,i.e,a.s,a.r,a.L,i.h,i.g,i.c,i.f,a.e],styles:[".container-with-centered-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),g),C=((f=function t(){_classCallCheck(this,t)}).\u0275mod=l.Hb({type:f}),f.\u0275inj=l.Gb({factory:function(t){return new(t||f)},imports:[[n.b,i.a,a.E]]}),f),b=[{path:"",component:k}],w=((v=function t(){_classCallCheck(this,t)}).\u0275mod=l.Hb({type:v}),v.\u0275inj=l.Gb({factory:function(t){return new(t||v)},imports:[[n.b,C,i.a,a.E,o.i.forChild(b)]]}),v)}}]);